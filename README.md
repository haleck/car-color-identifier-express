# Бэкенд-часть проекта "Car Color Identifier"

Проект представляет собой сервис, позволяющий определить цвет машины на изображении. В данном репозитории находится бэкенд-часть проекта.

Основная функциональность:
- Обработка полученного изображения с клиента
- Определение цвета машины с помощью обученного ИИ

Используемые технологии:
- Node express.js.
- Postgres.
- Tensorflow/tfjs-node.
- Multer.

# Как запустить? (Linux)
1. Скачайте зависимости с помощью `npm install` (npm v18+).
2. Скачайте [postgres](https://www.enterprisedb.com/downloads/postgres-postgresql-downloads) и запустите его.
3. Создайте базу данных и введите данные для подключения к ней в index.js (16 строка).
4. Запустите приложение `node index.js`.

# Как запустить? (Windows)
TensorFlow.js использует нативные бинарники для работы с C++ и Python, и на Windows могут возникнуть проблемы с их совместимостью.

Может потребоваться сборка бинарников из исходных кодов. В этом случае используйте команду npm install с флагом --build-from-source:

`npm install @tensorflow/tfjs-node --build-from-source`

Либо, просто используйте docker контейнер.

# Проблемы с бинарными файлами нейронной сети

1. Скачайте h5 файл обученной нейросети [здесь](https://drive.google.com/file/d/1VPZJX_bWkr6G7M9NjG01GJ-XysRIWfXG/view?usp=sharing).
2. Воспользуйтесь средствами python версии 3.6.8 для конвертации h5 в бинарные файлы, подходящие вашей системе. Подробнее [здесь](https://www.npmjs.com/package/@tensorflow/tfjs-converter).
3. Переместите сформированный файл json и бинарные файлы весов нейросети в директорию CNN текущего проекта.


